<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spotify Playlist Creator</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background: #000000; /* Black background */
        color: #fff;
        margin: 0;
        padding: 0;
        overflow: hidden; /* Hide default scrollbar */
        scroll-snap-type: y mandatory; /* Enable scroll snapping */
        scroll-behavior: smooth; /* Smooth scrolling */
      }

      header {
        position: fixed;
        top: 0;
        width: 100%;
        background: rgba(0, 0, 0, 0.8);
        padding: 10px 20px;
        z-index: 1000;
      }

      header nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      header nav a {
        color: #ff4d00; /* Neon orange */
        text-decoration: none;
        font-weight: 600;
        font-size: 1.2em;
        transition: color 0.3s;
      }

      header nav a:hover {
        color: #ffffff; /* White */
      }

      h1 span {
        display: inline-block;
        font-size: 2.5em; /* Adjusted to make the title smaller */
        letter-spacing: 0.1em; /* Adjusted spacing between characters */
        background: linear-gradient(
          to right,
          #ff0000,
          #ff4d00
        ); /* Neon red to neon orange gradient */
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 5px rgba(255, 0, 0, 0.7); /* Reduced Neon red shadow */
        font-weight: 600;
        text-align: center;
        margin: 0;
        padding: 0;
        position: relative;
        z-index: 1; /* Ensure heading stays above notes */
        animation: breathing 3s ease-in-out infinite;
      }

      @keyframes breathing {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.9;
        }
      }

      .music-note {
        position: absolute;
        color: #ff0000; /* Neon red */
        font-size: 2em;
        pointer-events: none;
        opacity: 0.8;
        animation: moveNote 1s ease-out forwards;
      }

      @keyframes moveNote {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        100% {
          transform: translate(var(--x), var(--y)) scale(0.5);
          opacity: 0;
        }
      }

      .section {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        scroll-snap-align: start; /* Snap to each section */
        position: relative;
        text-align: center;
        overflow: hidden;
      }

      .section .button {
        background-color: transparent;
        color: #ff4d00; /* Neon orange */
        border: 2px solid #ff4d00; /* Neon orange */
        padding: 15px 30px;
        font-size: 1.2em;
        cursor: pointer;
        border-radius: 5px;
        text-decoration: none;
        transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
        position: relative;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1; /* Ensure button is above other content */
      }

      .section .button::after {
        content: "\f001";
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        position: absolute;
        left: 10px;
        opacity: 0;
        transition: opacity 0.3s, transform 0.3s;
        transform: translateX(-10px);
      }

      .section .button:hover {
        background-color: #ff4d00; /* Neon orange */
        color: #000000; /* Black */
        box-shadow: 0 0 20px #ff4d00; /* Neon orange */
      }

      .section .button:hover::after {
        opacity: 1;
        transform: translateX(0);
      }

      .scroll-indicator {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 1.5em;
        color: #ff4d00; /* Neon orange */
        animation: bounce 1.5s infinite;
        z-index: 1000; /* Ensure it is above other content */
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateX(-50%) translateY(0);
        }
        50% {
          transform: translateX(-50%) translateY(-10px);
        }
      }

      .background-image {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("/mnt/data/image.png") no-repeat center center;
        background-size: cover;
        z-index: -1;
        opacity: 0.3; /* Adjust opacity for a subtle effect */
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <a href="#about">About Us</a>
      </nav>
    </header>
    <div class="background-image"></div>
    <section class="section">
      <h1 id="heading">
        <span>S</span>
        <span>p</span>
        <span>o</span>
        <span>t</span>
        <span>i</span>
        <span>f</span>
        <span>y</span>
        <span>&nbsp;</span>
        <!-- Non-breaking space -->
        <span>P</span>
        <span>l</span>
        <span>a</span>
        <span>y</span>
        <span>l</span>
        <span>i</span>
        <span>s</span>
        <span>t</span>
        <span>&nbsp;</span>
        <!-- Non-breaking space -->
        <span>C</span>
        <span>r</span>
        <span>e</span>
        <span>a</span>
        <span>t</span>
        <span>o</span>
        <span>r</span>
      </h1>
      <div class="note-container" id="noteContainer"></div>
    </section>
    <section class="section">
      <a class="button" href="/create_playlist">Similar Song Playlist Maker</a>
    </section>
    <section class="section">
      <a class="button" href="/mood_playlist">Mood Based Playlist Maker</a>
    </section>
    <div class="scroll-indicator">
      <i class="fas fa-angle-down"></i> Scroll down
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const heading = document.getElementById("heading");
        const noteContainer = document.getElementById("noteContainer");
        let notesCreated = false;

        function createMusicNotes(x, y) {
          if (notesCreated) return;
          notesCreated = true;

          const numberOfNotes = 5; // Limit the number of notes
          const radius = 200; // Reduced radius

          for (let i = 0; i < numberOfNotes; i++) {
            const note = document.createElement("i");
            note.classList.add("fas", "fa-music", "music-note");
            note.style.setProperty(
              "--x",
              `${Math.random() * radius - radius / 2}px`
            );
            note.style.setProperty(
              "--y",
              `${Math.random() * radius - radius / 2}px`
            );
            noteContainer.appendChild(note);

            note.addEventListener("animationend", () => {
              note.remove();
            });
          }

          setTimeout(() => {
            notesCreated = false; // Allow notes to reappear after 1 second
          }, 1000);
        }

        heading.addEventListener("mouseenter", (e) => {
          const { clientX, clientY } = e;
          const { top, left } = heading.getBoundingClientRect();
          const x = clientX - left;
          const y = clientY - top;
          createMusicNotes(x, y);
        });

        // Scroll control
        let sections = document.querySelectorAll(".section");
        let currentIndex = 0;

        const setCurrentSection = (index) => {
          currentIndex = index;
          sections[currentIndex].scrollIntoView({
            behavior: "smooth",
            block: "start",
            inline: "nearest",
          });
        };

        let isScrolling = false;
        const scrollSpeed = 0.5; // Speed of resistance effect

        document.addEventListener("wheel", (event) => {
          if (isScrolling) return;

          isScrolling = true;
          setTimeout(() => {
            isScrolling = false;
          }, 800); // Resistance delay

          if (event.deltaY > 0) {
            // Scrolling down
            if (currentIndex < sections.length - 1) {
              setCurrentSection(currentIndex + 1);
            }
          } else {
            // Scrolling up
            if (currentIndex > 0) {
              setCurrentSection(currentIndex - 1);
            }
          }
          event.preventDefault();
        });

        document.addEventListener("touchstart", handleTouchStart, {
          passive: true,
        });
        document.addEventListener("touchend", handleTouchEnd, {
          passive: true,
        });

        let touchStartY = 0;

        function handleTouchStart(event) {
          touchStartY = event.changedTouches[0].screenY;
        }

        function handleTouchEnd(event) {
          let touchEndY = event.changedTouches[0].screenY;
          if (touchStartY > touchEndY + 20) {
            // Swipe up
            if (currentIndex < sections.length - 1) {
              setCurrentSection(currentIndex + 1);
            }
          } else if (touchStartY < touchEndY - 20) {
            // Swipe down
            if (currentIndex > 0) {
              setCurrentSection(currentIndex - 1);
            }
          }
        }

        // Breathing animation for each letter
        heading.querySelectorAll("span").forEach((letter, index) => {
          letter.style.animation = `breathing 3s ease-in-out ${
            index * 0.1
          }s infinite`;
        });
      });
    </script>
  </body>
</html>
